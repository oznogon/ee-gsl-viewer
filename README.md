# Empty Epsilon Game State Log viewer

Visualizes game state logs generated by the open-source spaceship bridge simulation game, [Empty Epsilon](https://github.com/daid/EmptyEpsilon).

![A screenshot of the Empty Epsilon game state log viewer, showing a battle between Exuari and Human Navy ships.](https://i.imgur.com/O5Ds6yE.png)

Demonstration of a scenario being played back in the game state log viewer: https://i.imgur.com/j07hRlx.gif

## Setup

Enable game state logging in Empty Epsilon by creating a `logs` directory in the directory where you installed Empty Epsilon (on Windows), or in a relative path (on \*nix), or inside the app bundle (on macOS; `EmptyEpsilon.app/Contents/Resources/logs`).

Run an Empty Epsilon scenario, then exit the game. A (possibly very large) JSON file should be present in the `logs` directory, named `game_log_(timestamp).txt`. For log examples, see the `samplelogs` directory in this repository.

Clone or download this repo, then open `index.html` in a web browser (or go to https://oznogon.github.io/ee-gsl-viewer/, which uses the current version on the `main` branch).

Drag the game state log onto it, or select the log in your storage by clicking the "Browse..." button.

You can then view a replay of the scenario, at one second of gameplay per frame of playback.

## Legend

Ships are represented by large deltas (notched triangles), space stations by hexes, phenomena (nebulae, black holes, wormholes) with images, and missiles by small deltas (gray for HVLI, light orange for Homing, blue for EMP, and dark orange for Nukes).

Other objects are dots:

- Yellow dots: Asteroids. Faded yellow dots are visual asteroids that can't be collided with.
- White dots with a ring: Mines, with the ring representing their detonation range.
- White dots without a ring: Artifacts.
- Blue dots: Supply drops.
- Orange dots: Warp jammers.

Ship and station colors correspond to their faction, using the same colors as Empty Epsilon's `factionInfo.lua` script:

- White: Human Navy
- Red: Kraylor
- Light green: Ktlitans
- Bright green: Ghosts
- Orange: Arlenians
- Gray: Independent
- Bright Pink: Exuari
- Bright Purple: USN
- Teal: CUF
- Yellow: TSN

Red arcs on ships represent its beam weapons; faded arcs represent turreted beams' extents.

When zoomed in, green (hull) and blue (shields) circles surround objects that have them. Notches in shields represent separate shield segments. The thickness of shield and hull rings represent relative strength, so a ship with more shields and hull strength has thicker rings than a ship with less.

The text at top left shows, from left to right between slashes:

- the current mission time
- the current zoom scale
- the X / Y coordinates of the center of the view
- the designation of the sector at the center of the view

## Controls

- Start and stop automatic playback by clicking the "Play" button.
- Cycle through playback speeds by clicking the "10x" button, which displays the current playback rate.
- Scrub through the scenario timeline by dragging the slider at the bottom.
- Toggle callsign displays by clicking the "Callsigns" button.
- Zoom with your mouse wheel, by dragging the zoom slider at top right, or by clicking the +/- buttons near the zoom bar.
- Click and drag on the map to scroll.
- Click a ship or station to display stats, such as its shield and hull strength, weapons, etc.
- Click the "Lock" button (crosshairs under the zoom bar) to lock the view on the selected object and follow it during playback or when scrubbing through the timeline. This prevents you from manually panning the camera until you unlock the view, or if you lose the selection (by clicking in empty space, or the selected object being destroyed).
- To load a new file, either drag and drop it onto the current viewer, or refresh the page (<kbd>ctrl-r</kbd> or <kbd>command-r</kbd>).

### Keyboard shortcuts

<kbd>=</kbd>, <kbd>-</kbd>: Zoom in and out, respectively. Hold <kbd>shift</kbd> to increase the zoom magnitude.

<kbd>space</kbd>: Toggle playback.

<kbd>]</kbd>: Cycle through playback speeds (1x, 2x, 4x, 10x, 20x, 40x).

<kbd>c</kbd>: Toggle callsign display.

<kbd>l</kbd>: Toggle locking the view on the selected object.

<kbd>x</kbd>, <kbd>z</kbd>: Advance and retreat, respectively, through the timeline by 1 frame (1 second of game time). Hold <kbd>shift</kbd> to move by 10 frames.

<kbd>w</kbd>, <kbd>a</kbd>, <kbd>s</kbd>, <kbd>d</kbd>: Pan the map up, left, down, or right, respectively. The distance panned scales to the current zoom level. Hold <kbd>shift</kbd> to pan 10x faster.

## Credits

Based on `logs/index.html` in the Empty Epsilon repository: https://github.com/daid/EmptyEpsilon/blob/master/logs/index.html
